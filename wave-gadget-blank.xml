<script type="text/javascript"
    src="http://wave-api.appspot.com/public/wave.js"></script>
<script type="text/javascript">
  function assignTitle() 
  {
    var title = ParseString(document.getElementById('new_title').value);
    var state = wave.getState();
    var delta = {};
    delta[title] = title;
    state.submitDelta(delta);
    document.getElementById('pol_title').innerHTML = title;
  }
  
  function render()
  {
    var state = wave.getState();
    var title = wave.get(title, '0');
    if(title)
    {
      document.getElementById('pol_title').innerHTML = title;
    }
  }
  
  function init()
  {
    if(wave && wave.isInWaveContainer())
    {
      wave.setStateCallback(render);
      wave.setParticipantCallback(render);
    }
  }
  
  gadgets.util.registerOnLoadHandler(init);
</script>
<span id="poll_title">What is the poll called?</span>
<input id="new_title" size="10">
<button id="butCount" onclick="assignTitle()">Start the poll</button><br/>
